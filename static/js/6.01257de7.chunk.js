(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[6,8],{39:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return i}));var n=c(0),o=c(2);function i(e){var t=e.product,c=e.onAdd;Object(n.useEffect)((function(){var e=document.getElementById("prodAdd");e&&e.addEventListener("click",(function(){window.alert("Product has been added in the cart")}),!1)}));return console.log(window.location.origin,"JMS"),Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{className:"small",src:window.image||t.image,alt:window.name||t.name,onClick:function(){return function(e,t){if(e){var c="http://localhost:3000"===window.location.origin?"/#/prodDetails":"https://akashsrivastava1993.github.io/shopping-cart/#/prodDetails",n=window.open(c);n.image=e.image,n.name=e.name,n.price=e.price,n.click=e,n.onAdd=t}}(t,c)}}),Object(o.jsx)("h3",{children:window.name||t.name}),Object(o.jsxs)("div",{children:["\u20b9",window.price||t.price]}),Object(o.jsx)("div",{children:t?Object(o.jsx)("button",{onClick:function(){return c(t||window.click)},children:"Add To Cart"}):Object(o.jsx)("button",{id:"prodAdd",onClick:function(){return window.onAdd(window.click)},children:"Add To Cart"})})]})}},52:function(e,t,c){"use strict";c.r(t);var n=c(47),o=c(38),i=c(18),r=c(20),s=c(0),a=c(3),d=c(17),l=c(2);function j(e){var t=Object(a.f)();return console.log("From Header",t),Object(l.jsxs)("header",{className:"block row center",children:[Object(l.jsx)("div",{children:Object(l.jsx)("a",{href:"#/",children:Object(l.jsx)("h1",{children:"Shopping Cart"})})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("a",{href:"#/cart",children:["Cart"," ",e.countCartItems?Object(l.jsx)("button",{className:"badge",children:e.countCartItems}):""]}),t.location.state?"Hello ".concat(t.location.state.user):Object(l.jsx)(d.b,{to:"/signIn",children:"Sign In"})]})]})}var u=Object(s.memo)(j),b=c(39);function h(e){var t=e.products,c=e.onAdd,n=Object(s.useState)(!1),o=Object(i.a)(n,2),r=o[0],a=o[1],d=Object(s.useState)([]),j=Object(i.a)(d,2),u=j[0],h=j[1],m=u.length?u.map((function(e){return Object(l.jsx)(b.default,{product:e,onAdd:c},e.id)})):t.map((function(e){return Object(l.jsx)(b.default,{product:e,onAdd:c},e.id)}));return Object(l.jsxs)("main",{className:"block col-2",children:[Object(l.jsx)("h2",{children:"Products"}),Object(l.jsx)("input",{type:"text",id:"myInput",onChange:function(t){return function(e,t){console.log(e.target.value,"From Dahboard");var c=t.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.target.value.toLowerCase())}));c.length?(a(!1),h(c)):a(!0),""===e.target.value&&(a(!1),h(c))}(t,e.products)},placeholder:"Search for products..."}),Object(l.jsx)("div",{className:"row",children:r?Object(l.jsx)("div",{children:"No items found"}):m})]})}function m(e){var t=Object(a.f)(),c=Object(s.useState)(""),n=Object(i.a)(c,2),o=n[0],r=n[1],d=e.cartItems,j=e.onAdd,u=e.onRemove,b=d.reduce((function(e,t){return e+t.qty*t.price}),0),h=.14*b,m=b>2e3?0:20,O=Object(s.useMemo)((function(){return console.log("useMEMO"),b+h+m}),[b,h,m]);return Object(l.jsxs)("aside",{className:"block col-1",children:[Object(l.jsx)("h2",{children:"Cart Items"}),Object(l.jsxs)("div",{children:[0===d.length&&Object(l.jsx)("div",{children:"Cart is empty"}),d.map((function(e){return Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:e.name}),Object(l.jsxs)("div",{className:"col-2",children:[Object(l.jsx)("button",{onClick:function(){return u(e)},className:"remove",children:"-"})," ",Object(l.jsx)("button",{onClick:function(){return j(e)},className:"add",children:"+"})]}),Object(l.jsxs)("div",{className:"col-2 text-right",children:[e.qty," x \u20b9",e.price.toFixed(2)]})]},e.id)})),0!==d.length&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Items Price"}),Object(l.jsxs)("div",{className:"col-1 text-right",children:["\u20b9",b.toFixed(2)]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Tax Price"}),Object(l.jsxs)("div",{className:"col-1 text-right",children:["\u20b9",h.toFixed(2)]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Shipping Price"}),Object(l.jsxs)("div",{className:"col-1 text-right",children:["\u20b9",m.toFixed(2)]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)("strong",{children:"Total Price"})}),Object(l.jsx)("div",{className:"col-1 text-right",children:Object(l.jsxs)("strong",{children:["\u20b9",O.toFixed(2)]})})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{style:{paddingBottom:"15px"},children:[Object(l.jsx)("label",{htmlFor:"phone",children:"Enter Mobile Number:"}),Object(l.jsx)("input",{type:"text",id:"phone",name:"phone",placeholder:"Please type your number with country code",onChange:function(e){return function(e){console.log(e.target.value),r(e.target.value)}(e)}}),Object(l.jsx)("br",{})]}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),!0===window.confirm("Are you sure you want to place the orders")&&(""!==o&&fetch("https://api.twilio.com/2010-04-01/Accounts/AC6135beb3be3d2796a797ce44ae616f95/Messages.json",{method:"POST",headers:{Authorization:"Basic "+btoa("AC6135beb3be3d2796a797ce44ae616f95:ebfe9c606ce68e9aa60cfcc88c0505a6")},body:new URLSearchParams({To:o,Body:"Item has been dispatched. It will be at your door soon from Shopping Cart.",From:"+18325328070"})}),t.push("/ordered"))}(e)},children:"Place Order"})})]})]})]})}function O(e){return console.log("from ContactUs"),Object(l.jsx)("footer",{children:e.info()})}var x=Object(s.memo)(O),f=c(10),p=c.n(f);function g(){return console.log("From Copyright"),p.a.createPortal(Object(l.jsx)("footer",{children:"Copyright \xa9 2021 Shoping Cart"}),document.getElementById("portal-root"))}var v=Object(s.memo)(g),w=c(40),C=c.n(w),y=(c(45),c(46)),N=c(35),T=c(36),A=c(34),k=new(function(){function e(){Object(N.a)(this,e),this.mobxTheme="blue",this.mobxTitle=document.title,this.logDetails=function(){},Object(A.f)(this,{mobxTheme:A.g,mobxTitle:A.g,updateTitle:A.b,updateTheme:A.b}),Object(A.c)(this.logDetails)}return Object(T.a)(e,[{key:"updateTheme",value:function(e){return this.mobxTheme=e}},{key:"updateTitle",value:function(e){return this.mobxTitle=e}}]),e}());t.default=Object(r.b)((function(e){return{theme:e.theme}}),(function(e){return{setTheme:function(t){return e({type:"THEME CHANGED",payload:t})}}}))(Object(y.a)((function(e){Object(s.useEffect)((function(){document.title=k.mobxTitle})),Object(s.useEffect)((function(){document.body.style.backgroundColor=e.theme,fetch("products.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){O(e.products)}))}),[e.theme]);var t=Object(s.useState)([]),c=Object(i.a)(t,2),r=c[0],a=c[1],d=Object(s.useState)([]),j=Object(i.a)(d,2),b=j[0],O=j[1],f=Object(s.useState)(""),p=Object(i.a)(f,2),g=p[0],w=p[1];Object(s.useLayoutEffect)((function(){0===b.length?w("LOADING..."):w("")}),[b.length]);var y="Contact us on 9140271427",N=Object(s.useCallback)((function(){return y}),[y]),T=function(e){var t=r.find((function(t){return t.id===e.id}));console.log(t,"Exist"),a(t?r.map((function(c){return c.id===e.id?Object(o.a)(Object(o.a)({},t),{},{qty:t.qty+1}):c})):[].concat(Object(n.a)(r),[Object(o.a)(Object(o.a)({},e),{},{qty:1})]))};return Object(l.jsxs)("div",{children:[g,Object(l.jsx)(u,{countCartItems:r.length}),Object(l.jsxs)("div",{className:"toggle",children:[Object(l.jsx)("label",{htmlFor:"cheese-status",children:"Select Theme:"}),Object(l.jsx)(C.a,{id:"theme-status",defaultChecked:!0,onChange:function(){"white"===e.theme?e.setTheme("brown"):e.setTheme("white")}}),Object(l.jsx)("label",{htmlFor:"cheese-status",children:"Title of the App: ".concat(k.mobxTitle)}),Object(l.jsx)(C.a,{id:"state-status",defaultChecked:!0,onChange:function(){"React Redux App"===k.mobxTitle?k.updateTitle("React Mobx App"):k.updateTitle("React Redux App")}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)(h,{products:b,onAdd:T}),Object(l.jsx)(s.Profiler,{id:"BasketComp",onRender:function(e,t,c,n,o,i,r){},children:Object(l.jsx)(m,{cartItems:r,onAdd:T,onRemove:function(e){var t=r.find((function(t){return t.id===e.id}));1===t.qty?a(r.filter((function(t){return t.id!==e.id}))):a(r.map((function(c){return c.id===e.id?Object(o.a)(Object(o.a)({},t),{},{qty:t.qty-1}):c})))}})})]}),Object(l.jsx)(x,{info:N}),Object(l.jsx)(v,{})]})})))}}]);
//# sourceMappingURL=6.01257de7.chunk.js.map