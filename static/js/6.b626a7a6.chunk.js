(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[6,8],{39:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return r}));var n=c(0),i=c(3),o=c(2);function r(e){var t=e.product,c=e.onAdd;Object(i.f)();Object(n.useEffect)((function(){var e=document.getElementById("prodAdd");e&&e.addEventListener("click",(function(){window.alert("Product has been added in the cart")}),!1)}));return console.log(window.location.origin,"JMS"),Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{className:"small",src:window.image||t.image,alt:window.name||t.name,onClick:function(){return function(e,t){if(e){var c="http://localhost:3000"===window.location.origin?"/#/prodDetails":"https://akashsrivastava1993.github.io/shopping-cart/#/prodDetails",n=window.open(c);n.image=e.image,n.name=e.name,n.price=e.price,n.click=e,n.onAdd=t}}(t,c)}}),Object(o.jsx)("h3",{children:window.name||t.name}),Object(o.jsxs)("div",{children:["\u20b9",window.price||t.price]}),Object(o.jsx)("div",{children:t?Object(o.jsx)("button",{onClick:function(){return c(t||window.click)},children:"Add To Cart"}):Object(o.jsx)("button",{id:"prodAdd",onClick:function(){return window.onAdd(window.click)},children:"Add To Cart"})})]})}},52:function(e,t,c){"use strict";c.r(t);var n=c(47),i=c(38),o=c(18),r=c(20),s=c(0),a=c(3),d=c(17),l=c(2);function j(e){var t=Object(a.f)();return console.log("From Header",t),Object(l.jsxs)("header",{className:"block row center",children:[Object(l.jsx)("div",{children:Object(l.jsx)("a",{href:"#/",children:Object(l.jsx)("h1",{children:"Shopping Cart"})})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("a",{href:"#/cart",children:["Cart"," ",e.countCartItems?Object(l.jsx)("button",{className:"badge",children:e.countCartItems}):""]}),t.location.state?"Hello ".concat(t.location.state.user):Object(l.jsx)(d.b,{to:"/signIn",children:"Sign In"})]})]})}var u=Object(s.memo)(j),b=c(39);function h(e){var t=e.products,c=e.onAdd,n=Object(s.useState)(!1),i=Object(o.a)(n,2),r=i[0],a=i[1],d=Object(s.useState)([]),j=Object(o.a)(d,2),u=j[0],h=j[1],m=u.length?u.map((function(e){return Object(l.jsx)(b.default,{product:e,onAdd:c},e.id)})):t.map((function(e){return Object(l.jsx)(b.default,{product:e,onAdd:c},e.id)}));return Object(l.jsxs)("main",{className:"block col-2",children:[Object(l.jsx)("h2",{children:"Products"}),Object(l.jsx)("input",{type:"text",id:"myInput",onChange:function(t){return function(e,t){console.log(e.target.value,"From Dahboard");var c=t.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.target.value.toLowerCase())}));c.length?(a(!1),h(c)):a(!0),""===e.target.value&&(a(!1),h(c))}(t,e.products)},placeholder:"Search for products..."}),Object(l.jsx)("div",{className:"row",children:r?Object(l.jsx)("div",{children:"No items found"}):m})]})}function m(e){var t=Object(a.f)(),c=e.cartItems,n=e.onAdd,i=e.onRemove,o=c.reduce((function(e,t){return e+t.qty*t.price}),0),r=.14*o,d=o>2e3?0:20,j=Object(s.useMemo)((function(){return console.log("useMEMO"),o+r+d}),[o,r,d]);return Object(l.jsxs)("aside",{className:"block col-1",children:[Object(l.jsx)("h2",{children:"Cart Items"}),Object(l.jsxs)("div",{children:[0===c.length&&Object(l.jsx)("div",{children:"Cart is empty"}),c.map((function(e){return Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:e.name}),Object(l.jsxs)("div",{className:"col-2",children:[Object(l.jsx)("button",{onClick:function(){return i(e)},className:"remove",children:"-"})," ",Object(l.jsx)("button",{onClick:function(){return n(e)},className:"add",children:"+"})]}),Object(l.jsxs)("div",{className:"col-2 text-right",children:[e.qty," x \u20b9",e.price.toFixed(2)]})]},e.id)})),0!==c.length&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Items Price"}),Object(l.jsxs)("div",{className:"col-1 text-right",children:["\u20b9",o.toFixed(2)]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Tax Price"}),Object(l.jsxs)("div",{className:"col-1 text-right",children:["\u20b9",r.toFixed(2)]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Shipping Price"}),Object(l.jsxs)("div",{className:"col-1 text-right",children:["\u20b9",d.toFixed(2)]})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)("strong",{children:"Total Price"})}),Object(l.jsx)("div",{className:"col-1 text-right",children:Object(l.jsxs)("strong",{children:["\u20b9",j.toFixed(2)]})})]}),Object(l.jsx)("hr",{}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("button",{onClick:function(){!0===window.confirm("Are you sure you want to place the orders")&&t.push("/ordered")},children:"Place Order"})})]})]})]})}function O(e){return console.log("from ContactUs"),Object(l.jsx)("footer",{children:e.info()})}var x=Object(s.memo)(O),f=c(10),p=c.n(f);function v(){return p.a.createPortal(Object(l.jsx)("footer",{children:"Copyright \xa9 2021 Shoping Cart"}),document.getElementById("portal-root"))}var g=c(40),w=c.n(g),C=(c(45),c(46)),N=c(35),T=c(36),k=c(34),y=new(function(){function e(){Object(N.a)(this,e),this.mobxTheme="blue",this.mobxTitle=document.title,this.logDetails=function(){},Object(k.f)(this,{mobxTheme:k.g,mobxTitle:k.g,updateTitle:k.b,updateTheme:k.b}),Object(k.c)(this.logDetails)}return Object(T.a)(e,[{key:"updateTheme",value:function(e){return this.mobxTheme=e}},{key:"updateTitle",value:function(e){return this.mobxTitle=e}}]),e}());t.default=Object(r.b)((function(e){return{theme:e.theme}}),(function(e){return{setTheme:function(t){return e({type:"THEME CHANGED",payload:t})}}}))(Object(C.a)((function(e){Object(s.useEffect)((function(){document.title=y.mobxTitle}),[y.mobxTitle]),Object(s.useEffect)((function(){document.body.style.backgroundColor=e.theme,fetch("products.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){O(e.products)}))}),[e.theme]);var t=Object(s.useState)([]),c=Object(o.a)(t,2),r=c[0],a=c[1],d=Object(s.useState)([]),j=Object(o.a)(d,2),b=j[0],O=j[1],f=Object(s.useState)(""),p=Object(o.a)(f,2),g=p[0],C=p[1];Object(s.useLayoutEffect)((function(){0===b.length?C("LOADING..."):C("")}),[b.length]);var N="Contact us on 9140271427",T=Object(s.useCallback)((function(){return N}),[N]),k=function(e){var t=r.find((function(t){return t.id===e.id}));console.log(t,"Exist"),a(t?r.map((function(c){return c.id===e.id?Object(i.a)(Object(i.a)({},t),{},{qty:t.qty+1}):c})):[].concat(Object(n.a)(r),[Object(i.a)(Object(i.a)({},e),{},{qty:1})]))};return Object(l.jsxs)("div",{children:[g,Object(l.jsx)(u,{countCartItems:r.length}),Object(l.jsxs)("div",{className:"toggle",children:[Object(l.jsx)("label",{htmlFor:"cheese-status",children:"Select Theme:"}),Object(l.jsx)(w.a,{id:"theme-status",defaultChecked:e.theme,onChange:function(){"white"===e.theme?e.setTheme("brown"):e.setTheme("white")}}),Object(l.jsx)("label",{htmlFor:"cheese-status",children:"Title of the App: ".concat(y.mobxTitle)}),Object(l.jsx)(w.a,{id:"state-status",defaultChecked:!0,onChange:function(){"React Redux App"===y.mobxTitle?y.updateTitle("React Mobx App"):y.updateTitle("React Redux App")}})]}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)(h,{products:b,onAdd:k}),Object(l.jsx)(s.Profiler,{id:"BasketComp",onRender:function(e,t,c,n,i,o,r){console.log(e,t,c,n,i,o,r,"basket profile")},children:Object(l.jsx)(m,{cartItems:r,onAdd:k,onRemove:function(e){var t=r.find((function(t){return t.id===e.id}));1===t.qty?a(r.filter((function(t){return t.id!==e.id}))):a(r.map((function(c){return c.id===e.id?Object(i.a)(Object(i.a)({},t),{},{qty:t.qty-1}):c})))}})})]}),Object(l.jsx)(x,{info:T}),Object(l.jsx)(v,{})]})})))}}]);
//# sourceMappingURL=6.b626a7a6.chunk.js.map